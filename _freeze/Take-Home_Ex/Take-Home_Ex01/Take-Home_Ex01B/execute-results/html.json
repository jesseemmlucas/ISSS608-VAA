{
  "hash": "5cb43656b9ed86a7a64171cbaf74e9cf",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Take-Home Exercise 1: Part 2\"\ndate: \"May 8, 2025\"\ndate-modified: \"last-modified\"\nformat:\n  html:\n    toc: true\nexecute: \n  echo: true\n  eval: true\n  warning: false\n  message: false\n  freeze: true\n---\n\n# Peer Review\n\nFor this peer review, I will examine the data visualisation provided by my [classmate](https://isss608vaarajesh01.netlify.app/takehomeexercises/take_homeexercise1/take_homeexercise1). I will highlight three effective design principles employed in the submission as well as three areas that would benefit from further refinement. With reference to these comments, I will produce a revised version of the visualisation that incorporates the suggested enhancements.\n\nWe load the following R packages using the `pacman::p_load()` function:\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(ggiraph,patchwork, DT, tidyverse,ggrepel,ggthemes,hrbrthemes,scales)\n```\n:::\n\n\n-   The code chunk below imports respopagesex2024.csv into R environment by using [*read_csv()*](https://readr.tidyverse.org/reference/read_delim.html) function of [**readr**](https://readr.tidyverse.org/) package.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nrespopagesex2024 <- read_csv(\"data/respopagesex2024.csv\")\n```\n:::\n\n\n## Original Visualization\n\n::: panel-tabset\n### The Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Take-Home_Ex01B_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n### The Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\npyramid_data <- respopagesex2024 %>%\n  group_by(Age, Sex) %>%\n  summarise(Pop = sum(Pop), .groups = \"drop\") %>%\n  mutate(Pop = ifelse(Sex == \"Males\", -Pop, Pop))\n\nggplot(pyramid_data, aes(x = Age, y = Pop, fill = Sex)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  scale_y_continuous(labels = abs) +\n  labs(title = \"Singapore Population Pyramid (2024)\",\n       x = \"Age\", y = \"Population\",\n       fill = \"Sex\") +\n  theme_minimal()\n```\n:::\n\n:::\n\n![](images/clipboard-891094182.png)\n\n### Quadrant\n\nThe original visualisation belongs in Quadrant IV because, although its dual colour palette and minimalist design deliver strong visual appeal, the axis is rendered unreadable by the overcrowded age labels and the lack of numeric annotations means the exact counts cannot be determined.\n\n### Good Points\n\n-   The use of a distinct colour for each sex allows the viewer to tell male and female distributions apart immediately.\n\n-   Mirroring the bars around a central axis correctly emphasises the symmetry of a population pyramid and supports side-by-side comparison.\n\n-   A minimal grid and lack of decorative elements keep the focus on the data and lend the graphic a clean, professional appearance.\n\n### **Critiques**\n\n-   Printing every single-year age label in a small font creates clutter and makes it hard to pick out particular groups, grouping into five- or ten-year bands would improve readability.\n\n-   By showing annual counts rather than cohort aggregates, the pyramidâ€™s outline becomes jagged, emphasising minor fluctuations instead of revealing the overall demographic shape.\n\n-   The plot relies solely on gridlines for reading counts, with no data labels or annotations on the bars themselves. This forces viewers to estimate values mentally rather than see them at a glance.\n\n## Refined Visualization\n\n::: panel-tabset\n### The Plot\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"girafe html-widget html-fill-item\" id=\"htmlwidget-4ccaded92180c8bb8aa8\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-4ccaded92180c8bb8aa8\">{\"x\":{\"html\":\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='ggiraph-svg' role='graphics-document' id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70' viewBox='0 0 576 432'>\\n <defs id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_defs'>\\n  <clipPath id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_c1'>\\n   <rect x='0' y='0' width='576' height='432'/>\\n  <\\/clipPath>\\n  <clipPath id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_c2'>\\n   <rect x='67.37' y='23.18' width='424.73' height='365.12'/>\\n  <\\/clipPath>\\n <\\/defs>\\n <g id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_rootg' class='ggiraph-svg-rootg'>\\n  <g clip-path='url(#svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_c1)'>\\n   <rect x='0' y='0' width='576' height='432' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.75' stroke-linejoin='round' stroke-linecap='round' class='ggiraph-svg-bg'/>\\n  <\\/g>\\n  <g clip-path='url(#svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_c2)'>\\n   <polyline points='120.47,388.30 120.47,23.18' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='226.65,388.30 226.65,23.18' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='332.83,388.30 332.83,23.18' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='439.01,388.30 439.01,23.18' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='0.53' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,376.89 492.10,376.89' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,357.87 492.10,357.87' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,338.86 492.10,338.86' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,319.84 492.10,319.84' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,300.82 492.10,300.82' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,281.81 492.10,281.81' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,262.79 492.10,262.79' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,243.77 492.10,243.77' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,224.76 492.10,224.76' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,205.74 492.10,205.74' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,186.72 492.10,186.72' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,167.70 492.10,167.70' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,148.69 492.10,148.69' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,129.67 492.10,129.67' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,110.65 492.10,110.65' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,91.64 492.10,91.64' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,72.62 492.10,72.62' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,53.60 492.10,53.60' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,34.59 492.10,34.59' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='67.37,388.30 67.37,23.18' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='173.56,388.30 173.56,23.18' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='279.74,388.30 279.74,23.18' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='385.92,388.30 385.92,23.18' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <polyline points='492.10,388.30 492.10,23.18' fill='none' stroke='#EBEBEB' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e1' x='279.74' y='369.28' width='44.36' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;0 to 4: 83,550' data-id='Females 0 to 4'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e2' x='233.1' y='369.28' width='46.64' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;0 to 4: 87,850' data-id='Males 0 to 4'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e3' x='279.74' y='350.27' width='52.61' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;5 to 9: 99,100' data-id='Females 5 to 9'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e4' x='224.73' y='350.27' width='55.01' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;5 to 9: 103,620' data-id='Males 5 to 9'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e5' x='279.74' y='331.25' width='53.35' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;10 to 14: 100,490' data-id='Females 10 to 14'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e6' x='224.1' y='331.25' width='55.63' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;10 to 14: 104,790' data-id='Males 10 to 14'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e7' x='279.74' y='312.23' width='55.3' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;15 to 19: 104,160' data-id='Females 15 to 19'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e8' x='222.58' y='312.23' width='57.16' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;15 to 19: 107,670' data-id='Males 15 to 19'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e9' x='279.74' y='293.22' width='58.7' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;20 to 24: 110,570' data-id='Females 20 to 24'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e10' x='218.76' y='293.22' width='60.98' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;20 to 24: 114,860' data-id='Males 20 to 24'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e11' x='279.74' y='274.2' width='71.67' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;25 to 29: 134,990' data-id='Females 25 to 29'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e12' x='207.93' y='274.2' width='71.81' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;25 to 29: 135,250' data-id='Males 25 to 29'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e13' x='279.74' y='255.18' width='87.93' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;30 to 34: 165,620' data-id='Females 30 to 34'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e14' x='197.11' y='255.18' width='82.63' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;30 to 34: 155,630' data-id='Males 30 to 34'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e15' x='279.74' y='236.17' width='88.21' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;35 to 39: 166,150' data-id='Females 35 to 39'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e16' x='200.45' y='236.17' width='79.29' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;35 to 39: 149,340' data-id='Males 35 to 39'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e17' x='279.74' y='217.15' width='87.13' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;40 to 44: 164,120' data-id='Females 40 to 44'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e18' x='201.89' y='217.15' width='77.85' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;40 to 44: 146,630' data-id='Males 40 to 44'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e19' x='279.74' y='198.13' width='83.76' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;45 to 49: 157,770' data-id='Females 45 to 49'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e20' x='203.21' y='198.13' width='76.53' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;45 to 49: 144,140' data-id='Males 45 to 49'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e21' x='279.74' y='179.11' width='84.25' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;50 to 54: 158,690' data-id='Females 50 to 54'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e22' x='200.5' y='179.11' width='79.24' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;50 to 54: 149,260' data-id='Males 50 to 54'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e23' x='279.74' y='160.1' width='79.62' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;55 to 59: 149,970' data-id='Females 55 to 59'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e24' x='202.71' y='160.1' width='77.02' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;55 to 59: 145,080' data-id='Males 55 to 59'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e25' x='279.74' y='141.08' width='79.51' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;60 to 64: 149,770' data-id='Females 60 to 64'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e26' x='201.38' y='141.08' width='78.36' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;60 to 64: 147,600' data-id='Males 60 to 64'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e27' x='279.74' y='122.06' width='72.28' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;65 to 69: 136,150' data-id='Females 65 to 69'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e28' x='210.43' y='122.06' width='69.31' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;65 to 69: 130,550' data-id='Males 65 to 69'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e29' x='279.74' y='103.05' width='57.12' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;70 to 74: 107,590' data-id='Females 70 to 74'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e30' x='226.89' y='103.05' width='52.85' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;70 to 74: 99,540' data-id='Males 70 to 74'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e31' x='279.74' y='84.03' width='38.93' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;75 to 79: 73,330' data-id='Females 75 to 79'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e32' x='246.78' y='84.03' width='32.96' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;75 to 79: 62,080' data-id='Males 75 to 79'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e33' x='279.74' y='65.01' width='24.05' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;80 to 84: 45,290' data-id='Females 80 to 84'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e34' x='262.3' y='65.01' width='17.44' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;80 to 84: 32,840' data-id='Males 80 to 84'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e35' x='279.74' y='46' width='14.45' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;85 to 89: 27,210' data-id='Females 85 to 89'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e36' x='270.72' y='46' width='9.02' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;85 to 89: 16,990' data-id='Males 85 to 89'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e37' x='279.74' y='26.98' width='9.31' height='15.21' fill='#F8766D' fill-opacity='1' stroke='none' title='Females&amp;lt;br/&amp;gt;90 plus: 17,530' data-id='Females 90 plus'/>\\n   <rect id='svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_e38' x='275.62' y='26.98' width='4.12' height='15.21' fill='#00BFC4' fill-opacity='1' stroke='none' title='Males&amp;lt;br/&amp;gt;90 plus: 7,760' data-id='Males 90 plus'/>\\n  <\\/g>\\n  <g clip-path='url(#svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70_c1)'>\\n   <text x='40.41' y='380.04' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>0 to 4<\\/text>\\n   <text x='40.41' y='361.02' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>5 to 9<\\/text>\\n   <text x='30.62' y='342.01' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>10 to 14<\\/text>\\n   <text x='30.62' y='322.99' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>15 to 19<\\/text>\\n   <text x='30.62' y='303.97' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>20 to 24<\\/text>\\n   <text x='30.62' y='284.96' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>25 to 29<\\/text>\\n   <text x='30.62' y='265.94' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>30 to 34<\\/text>\\n   <text x='30.62' y='246.92' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>35 to 39<\\/text>\\n   <text x='30.62' y='227.91' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>40 to 44<\\/text>\\n   <text x='30.62' y='208.89' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>45 to 49<\\/text>\\n   <text x='30.62' y='189.87' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>50 to 54<\\/text>\\n   <text x='30.62' y='170.85' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>55 to 59<\\/text>\\n   <text x='30.62' y='151.84' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>60 to 64<\\/text>\\n   <text x='30.62' y='132.82' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>65 to 69<\\/text>\\n   <text x='30.62' y='113.8' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>70 to 74<\\/text>\\n   <text x='30.62' y='94.79' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>75 to 79<\\/text>\\n   <text x='30.62' y='75.77' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>80 to 84<\\/text>\\n   <text x='30.62' y='56.75' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>85 to 89<\\/text>\\n   <text x='34.06' y='37.74' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>90 plus<\\/text>\\n   <text x='51.46' y='399.53' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>400,000<\\/text>\\n   <text x='157.64' y='399.53' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>200,000<\\/text>\\n   <text x='277.29' y='399.53' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>0<\\/text>\\n   <text x='370.01' y='399.53' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>200,000<\\/text>\\n   <text x='476.19' y='399.53' font-size='6.6pt' font-family='Arial' fill='#4D4D4D' fill-opacity='1'>400,000<\\/text>\\n   <text x='228.06' y='424.2' font-size='8.25pt' font-family='Arial'>Number of Residents<\\/text>\\n   <text transform='translate(13.36,232.35) rotate(-90.00)' font-size='8.25pt' font-family='Arial'>Age Group<\\/text>\\n   <text x='508.54' y='189.66' font-size='8.25pt' font-family='Arial'>Sex<\\/text>\\n   <rect x='509.25' y='197' width='15.86' height='15.86' fill='#F8766D' fill-opacity='1' stroke='none'/>\\n   <rect x='509.25' y='214.28' width='15.86' height='15.86' fill='#00BFC4' fill-opacity='1' stroke='none'/>\\n   <text x='531.3' y='208.09' font-size='6.6pt' font-family='Arial'>Females<\\/text>\\n   <text x='531.3' y='225.37' font-size='6.6pt' font-family='Arial'>Males<\\/text>\\n   <text x='67.37' y='14.93' font-size='9.9pt' font-family='Arial'>Singapore Population Pyramid by 5-Year Age Bands (2024)<\\/text>\\n  <\\/g>\\n <\\/g>\\n<\\/svg>\",\"js\":null,\"uid\":\"svg_6c5f1c33_2cab_4b79_bc22_623bb3372f70\",\"ratio\":1.333333333333333,\"settings\":{\"tooltip\":{\"css\":\".tooltip_SVGID_ { padding:5px;background:black;color:white;border-radius:2px;text-align:left; ; position:absolute;pointer-events:none;z-index:999;}\",\"placement\":\"doc\",\"opacity\":0.9,\"offx\":10,\"offy\":10,\"use_cursor_pos\":true,\"use_fill\":false,\"use_stroke\":false,\"delay_over\":200,\"delay_out\":500},\"hover\":{\"css\":\".hover_data_SVGID_ { opacity:1;fill-opacity:1; }\",\"reactive\":false,\"nearest_distance\":null},\"hover_inv\":{\"css\":\".hover_inv_SVGID_ { opacity:0.2; }\"},\"hover_key\":{\"css\":\".hover_key_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\\ntext.hover_key_SVGID_ { stroke:none;fill:orange; }\\ncircle.hover_key_SVGID_ { fill:orange;stroke:black; }\\nline.hover_key_SVGID_, polyline.hover_key_SVGID_ { fill:none;stroke:orange; }\\nrect.hover_key_SVGID_, polygon.hover_key_SVGID_, path.hover_key_SVGID_ { fill:orange;stroke:none; }\\nimage.hover_key_SVGID_ { stroke:orange; }\",\"reactive\":true},\"hover_theme\":{\"css\":\".hover_theme_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\\ntext.hover_theme_SVGID_ { stroke:none;fill:orange; }\\ncircle.hover_theme_SVGID_ { fill:orange;stroke:black; }\\nline.hover_theme_SVGID_, polyline.hover_theme_SVGID_ { fill:none;stroke:orange; }\\nrect.hover_theme_SVGID_, polygon.hover_theme_SVGID_, path.hover_theme_SVGID_ { fill:orange;stroke:none; }\\nimage.hover_theme_SVGID_ { stroke:orange; }\",\"reactive\":true},\"select\":{\"css\":\".select_data_SVGID_ { fill:red;stroke:black;cursor:pointer; }\\ntext.select_data_SVGID_ { stroke:none;fill:red; }\\ncircle.select_data_SVGID_ { fill:red;stroke:black; }\\nline.select_data_SVGID_, polyline.select_data_SVGID_ { fill:none;stroke:red; }\\nrect.select_data_SVGID_, polygon.select_data_SVGID_, path.select_data_SVGID_ { fill:red;stroke:none; }\\nimage.select_data_SVGID_ { stroke:red; }\",\"type\":\"multiple\",\"only_shiny\":true,\"selected\":[]},\"select_inv\":{\"css\":\"\"},\"select_key\":{\"css\":\".select_key_SVGID_ { fill:red;stroke:black;cursor:pointer; }\\ntext.select_key_SVGID_ { stroke:none;fill:red; }\\ncircle.select_key_SVGID_ { fill:red;stroke:black; }\\nline.select_key_SVGID_, polyline.select_key_SVGID_ { fill:none;stroke:red; }\\nrect.select_key_SVGID_, polygon.select_key_SVGID_, path.select_key_SVGID_ { fill:red;stroke:none; }\\nimage.select_key_SVGID_ { stroke:red; }\",\"type\":\"single\",\"only_shiny\":true,\"selected\":[]},\"select_theme\":{\"css\":\".select_theme_SVGID_ { fill:red;stroke:black;cursor:pointer; }\\ntext.select_theme_SVGID_ { stroke:none;fill:red; }\\ncircle.select_theme_SVGID_ { fill:red;stroke:black; }\\nline.select_theme_SVGID_, polyline.select_theme_SVGID_ { fill:none;stroke:red; }\\nrect.select_theme_SVGID_, polygon.select_theme_SVGID_, path.select_theme_SVGID_ { fill:red;stroke:none; }\\nimage.select_theme_SVGID_ { stroke:red; }\",\"type\":\"single\",\"only_shiny\":true,\"selected\":[]},\"zoom\":{\"min\":1,\"max\":1,\"duration\":300},\"toolbar\":{\"position\":\"topright\",\"pngname\":\"diagram\",\"tooltips\":null,\"fixed\":false,\"hidden\":[],\"delay_over\":200,\"delay_out\":500},\"sizing\":{\"rescale\":true,\"width\":1}}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n### The Code\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_5yr <- respopagesex2024 %>%\n  mutate(\n    AgeNum = case_when(\n      Age == \"90_and_Over\" ~ 90,\n      TRUE                 ~ as.numeric(Age)\n    )\n  ) %>%  \n  mutate(\n    AgeGroup = cut(\n      AgeNum,\n      breaks         = c(seq(0, 90, by = 5), Inf),\n      right          = FALSE,\n      include.lowest = TRUE,\n      labels         = c(\n        \"0 to 4\",   \"5 to 9\",   \"10 to 14\", \"15 to 19\",\n        \"20 to 24\", \"25 to 29\", \"30 to 34\", \"35 to 39\",\n        \"40 to 44\", \"45 to 49\", \"50 to 54\", \"55 to 59\",\n        \"60 to 64\", \"65 to 69\", \"70 to 74\", \"75 to 79\",\n        \"80 to 84\", \"85 to 89\", \"90 plus\"\n      )\n    )\n  ) %>%\n  complete(AgeGroup, Sex = c(\"Males\", \"Females\"), fill = list(Pop = 0)) %>%\n  group_by(AgeGroup, Sex) %>%\n  summarise(Pop = sum(Pop), .groups = \"drop\") %>%\n  mutate(\n    Direction = if_else(Sex == \"Males\", -Pop, Pop),\n    Tooltip   = paste0(Sex, \"\\n\", AgeGroup, \": \", comma(Pop)),\n    data_id   = paste(Sex, AgeGroup)\n  )\n\np <- ggplot(\n  df_5yr,\n  aes(\n    x       = AgeGroup,\n    y       = Direction,\n    fill    = Sex,\n    tooltip = Tooltip,\n    data_id = data_id\n  )\n) +\n  geom_col_interactive(width = 0.8) +\n  coord_flip(clip = \"on\") +\n  scale_y_continuous(\n    breaks = seq(-400000, 400000, by = 200000),\n    labels = ~ comma(abs(.x)),\n    limits = c(-400000, 400000),\n    expand = c(0, 0)\n  ) +\n  scale_x_discrete(drop = FALSE) +\n  scale_fill_manual(values = c(\"Females\" = \"#F8766D\", \"Males\" = \"#00BFC4\")) +\n  labs(\n    title = \"Singapore Population Pyramid by 5-Year Age Bands (2024)\",\n    x     = \"Age Group\",\n    y     = \"Number of Residents\",\n    fill  = \"Sex\"\n  ) +\n  theme_minimal() +\n  theme(\n    axis.title.y = element_text(margin = margin(r = 15)),\n    axis.title.x = element_text(margin = margin(t = 15))\n  )\n\ngirafe(\n  ggobj = p,\n  width_svg = 8, height_svg = 6,\n  options = list(\n    opts_hover(css     = \"opacity:1;fill-opacity:1;\"),\n    opts_hover_inv(css = \"opacity:0.2;\")\n  )\n)\n```\n:::\n\n:::\n\n### Original vs Make Over\n\n**Interactive Hover Focus**\n\n-   **Original**: Static bars offer no tooltip or focus.\n\n-   **Revised**: Hovering highlights one bar in full opacity with an on-hover tooltip, greying out all others.\n\n-   **Why better**: Interactivity directs attention precisely to the data point of interest and reveals exact counts without overloading the static display.\n\n**Age-Group Aggregation**\n\n-   **Original**: Every single year from 0 to 90+ is shown, leading to dozens of tiny, overlapping bars and labels.\n\n-   **Revised**: Ages are grouped into 5-year bands , cutting the number of categories by more than two-thirds.\n\n-   **Why better**: Fewer, broader bands greatly reduce visual clutter and allow the reader to grasp the overall demographic shape at a glance.\n\n# References\n\n-   [Jones, B. (2012, May 28). *Data visualization: Clarity or aesthetics?* DataRemixed.](https://dataremixed.com/2012/05/data-visualization-clarity-or-aesthetics/)\n-   [Link to Classmate's Work](https://isss608vaarajesh01.netlify.app/takehomeexercises/take_homeexercise1/take_homeexercise1)\n",
    "supporting": [
      "Take-Home_Ex01B_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<script src=\"../../site_libs/d3-bundle-5.16.0/d3-bundle.min.js\"></script>\n<script src=\"../../site_libs/d3-lasso-0.0.5/d3-lasso.min.js\"></script>\n<script src=\"../../site_libs/save-svg-as-png-1.4.17/save-svg-as-png.min.js\"></script>\n<script src=\"../../site_libs/flatbush-4.4.0/flatbush.min.js\"></script>\n<link href=\"../../site_libs/ggiraphjs-0.8.10/ggiraphjs.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/ggiraphjs-0.8.10/ggiraphjs.min.js\"></script>\n<script src=\"../../site_libs/girafe-binding-0.8.13/girafe.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}